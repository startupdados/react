import{j as e,C as j,q as w,T as h,h as D,r as m,e as E,G as o,s as N,M as U,P as f,B as S,L as F,m as z,n as G,A as _,p as K,l as $}from"./index-abcHMAUO.js";import{_ as I}from"./react-apexcharts.min-CqivsiO7.js";import{T as C,a as y,b as k,c as v,d as c,e as R,f as P}from"./TableSortLabel-CHxKLulo.js";import{T as W}from"./TotalIncomeCard-ChYXlYQz.js";const H=()=>{const s={LOCK:23,Idle:40,Cluster:10,Other:15,UserIO:25,Network:30},r=Object.keys(s),t=r.map(n=>({x:n,y:s[n],fillColor:T(n)})),i={chart:{type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"30%",dataLabels:{position:"top"},borderRadius:5}},dataLabels:{enabled:!0,style:{fontSize:"14px",colors:["#000"]},offsetY:-20},stroke:{show:!1},legend:{show:!0,position:"bottom",horizontalAlign:"center",fontSize:"14px",onItemClick:{toggleDataSeries:!0}},colors:r.map(n=>T(n)),xaxis:{categories:r},yaxis:{title:{text:"Quantidade"}},fill:{opacity:1},tooltip:{y:{formatter:function(n){return n}}}},d=[{name:"Quantidade",data:t}];return e.jsxs(j,{children:[e.jsx(w,{title:e.jsx(h,{variant:"h4",component:"div",align:"center",children:"Eventos Em Espera"})}),e.jsx(I,{options:i,series:d,type:"bar",height:350})]})};function T(s){return{LOCK:"#FF4560",Idle:"#00E396",Cluster:"#008FFB",Other:"#775DD0",UserIO:"#FEB019",Network:"#00D9E9"}[s]}const Q=[{dataColeta:"2024-09-01 13:06:27",grupo:"DATA",state:"MOUNTED",type:"EXTERNAL",espacoLivre:100,offlineDisks:0},{dataColeta:"2024-09-02 13:06:27",grupo:"FRA",state:"DISMOUNTED",type:"EXTERNAL",espacoLivre:50,offlineDisks:2},{dataColeta:"2024-09-03 13:06:27",grupo:"OCR",state:"MOUNTED",type:"NORMAL",espacoLivre:80,offlineDisks:1}],L=(s,r,t)=>t==="dataColeta"?new Date(r[t])-new Date(s[t]):r[t]<s[t]?-1:r[t]>s[t]?1:0,X=(s,r)=>s==="desc"?(t,i)=>L(t,i,r):(t,i)=>-L(t,i,r),Y=({title:s})=>{const r=D(),[t,i]=m.useState(Q),[d,n]=m.useState("asc"),[u,a]=m.useState(""),x=(l,p)=>{n(u===p&&d==="asc"?"desc":"asc"),a(p);const M=t.sort(X(d,p));i([...M])},b=[{id:"dataColeta",label:"DATA COLETA"},{id:"grupo",label:"GRUPO"},{id:"state",label:"STATE"},{id:"type",label:"TYPE"},{id:"espacoLivre",label:"ESPAÇO LIVRE (GB)"},{id:"offlineDisks",label:"OFFLINE DISKS"}];return e.jsxs(j,{children:[e.jsx(w,{title:e.jsxs(h,{variant:"h4",component:"div",align:"center",children:[s," ASM DiskGroup"]})}),e.jsx(E,{children:e.jsx(C,{children:e.jsxs(y,{stickyHeader:!0,children:[e.jsx(k,{children:e.jsx(v,{children:b.map(l=>e.jsx(c,{align:"center",sortDirection:u===l.id?d:!1,sx:{backgroundColor:r.palette.primary.main,color:"white"},children:e.jsx(R,{active:u===l.id,direction:u===l.id?d:"asc",onClick:p=>x(p,l.id),hideSortIcon:!u,sx:{color:"white","&:hover":{color:"white"},"&.Mui-active":{color:"white"},"& .MuiTableSortLabel-icon":{position:"absolute",right:"-25px",zIndex:2,opacity:u===l.id?1:0,color:"white !important"}},children:l.label})},l.id))})}),e.jsx(P,{children:t.map((l,p)=>e.jsxs(v,{sx:{backgroundColor:p%2===0?"white":"#f5f5f5"},children:[e.jsx(c,{align:"center",children:l.dataColeta}),e.jsx(c,{align:"center",children:l.grupo}),e.jsx(c,{align:"center",children:l.state}),e.jsx(c,{align:"center",children:l.type}),e.jsx(c,{align:"center",children:l.espacoLivre}),e.jsx(c,{align:"center",children:l.offlineDisks})]},p))})]})})})]})},q=[{id:"Instância 01",events:{CPU:35,IDLE:50,"Disco I/O":15}},{id:"Instância 02",events:{CPU:25,IDLE:40,"Disco I/O":20}}],B=()=>e.jsx(o,{container:!0,spacing:2,children:q.map((s,r)=>e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsx(V,{instance:s})},r))}),V=({instance:s})=>{const r=Object.keys(s.events),t=r.map(n=>({x:n,y:s.events[n]})),i={chart:{type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"50%",dataLabels:{position:"top"},borderRadius:5}},dataLabels:{enabled:!0,formatter:function(n){return n+"%"},style:{fontSize:"14px",colors:["#000"]},offsetY:-20},stroke:{show:!1},colors:r.map(n=>J(n)),xaxis:{categories:r},yaxis:{title:{text:"Quantidade"}},fill:{opacity:1},tooltip:{y:{formatter:function(n){return n+"%"}}}},d=[{name:"Quantidade",data:t}];return e.jsxs(j,{children:[e.jsx(w,{title:e.jsxs(h,{variant:"h4",component:"div",align:"center",children:[s.id," - Uso de Recursos / Processos"]})}),e.jsx(I,{options:i,series:d,type:"bar",height:350})]})};function J(s){return{CPU:"#FF4560",IDLE:"#00E396","Disco I/O":"#775DD0"}[s]}const A=[{tempo:"2024-09-01 13:06:27",lockSession:"Session1",username:"user1",osuser:"osuser1",sid:123,serial:456,acao:"SELECT",seconds:12},{tempo:"2024-09-02 14:12:27",lockSession:"Session2",username:"user2",osuser:"osuser2",sid:789,serial:101,acao:"INSERT",seconds:34},{tempo:"2024-09-03 15:15:27",lockSession:"Session3",username:"user3",osuser:"osuser3",sid:234,serial:567,acao:"UPDATE",seconds:29}],O=(s,r,t)=>t==="tempo"?new Date(r[t])-new Date(s[t]):r[t]<s[t]?-1:r[t]>s[t]?1:0,Z=(s,r)=>s==="desc"?(t,i)=>O(t,i,r):(t,i)=>-O(t,i,r),ee=()=>{const s=D(),[r,t]=m.useState("asc"),[i,d]=m.useState(""),n=(a,x)=>{const b=i===x&&r==="asc";t(b?"desc":"asc"),d(x),A.sort(Z(r,x)),t(b?"desc":"asc")},u=[{id:"tempo",label:"TEMPO",width:"12%"},{id:"lockSession",label:"LOCK_SESSION",width:"8%"},{id:"username",label:"USERNAME",width:"8%"},{id:"osuser",label:"OSUSER",width:"12%"},{id:"sid",label:"SID",width:"6%"},{id:"serial",label:"SERIAL",width:"6%"},{id:"acao",label:"AÇÃO",width:"40%"},{id:"seconds",label:"SECONDS",width:"12%"}];return e.jsxs(j,{children:[e.jsx(w,{title:e.jsx(h,{variant:"h4",component:"div",align:"center",children:"Sessões Ativas em Segundos"})}),e.jsx(E,{children:e.jsx(C,{children:e.jsxs(y,{stickyHeader:!0,children:[e.jsx(k,{children:e.jsx(v,{children:u.map(a=>e.jsx(c,{align:a.id==="acao"?"left":"center",sortDirection:i===a.id?r:!1,sx:{backgroundColor:s.palette.primary.main,color:"white",width:a.width,position:"relative"},children:e.jsx(R,{active:i===a.id,direction:i===a.id?r:"asc",onClick:x=>n(x,a.id),hideSortIcon:!1,sx:{color:"white",position:"relative",zIndex:1,"&:hover":{color:"white"},"&.Mui-active":{color:"white"},"& .MuiTableSortLabel-icon":{position:"absolute",right:"-25px",zIndex:2,opacity:i===a.id?1:0,color:"white !important"}},children:a.label})},a.id))})}),e.jsx(P,{children:A.map((a,x)=>e.jsxs(v,{sx:{backgroundColor:x%2===0?"white":"#f5f5f5"},children:[e.jsx(c,{align:"center",children:a.tempo}),e.jsx(c,{align:"center",children:a.lockSession}),e.jsx(c,{align:"center",children:a.username}),e.jsx(c,{align:"center",children:a.osuser}),e.jsx(c,{align:"center",children:a.sid}),e.jsx(c,{align:"center",children:a.serial}),e.jsx(c,{align:"left",children:a.acao})," ",e.jsx(c,{align:"center",children:a.seconds})]},x))})]})})})]})},te=N(U)(({theme:s})=>({overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${s.palette.warning.dark} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${s.palette.warning.dark} -14.02%, rgba(144, 202, 249, 0) 70.50%)`,borderRadius:"50%",top:-160,right:-130}})),g=({isLoading:s})=>{const r=D();return e.jsx(e.Fragment,{children:s?e.jsx(W,{}):e.jsx(te,{border:!1,content:!1,children:e.jsx(S,{sx:{p:1},children:e.jsx(F,{sx:{py:0},children:e.jsxs(z,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[e.jsx(G,{children:e.jsx(_,{variant:"rounded",sx:{...r.typography.commonAvatar,...r.typography.largeAvatar,bgcolor:"warning.light",color:"warning.dark"}})}),e.jsx(K,{sx:{py:0,mt:.25,mb:.25},primary:e.jsx(h,{variant:"h4",children:1502}),secondary:e.jsx(h,{variant:"subtitle1",sx:{color:"grey.500",mt:1},children:"Sessões Ativas"})}),e.jsx(h,{sx:{p:1},align:"center",variant:"h4",children:"INST 01"})]})})})})})};g.propTypes={icon:f.object,label:f.string,total:f.number,isLoading:f.bool};const se=()=>{const s=[{name:"LRINDEXES_LONG_TABLESPACE_NAME_EXAMPLE",usagePercent:93},{name:"LRDADOS",usagePercent:87},{name:"USERS",usagePercent:86},{name:"BDCOMUM_DT",usagePercent:85},{name:"SYSTEM",usagePercent:70}],r=t=>t>80?"error.main":"success.main";return e.jsx(j,{sx:{margin:"0 auto",padding:"20px"},children:e.jsxs(E,{children:[e.jsx(h,{variant:"h5",align:"center",gutterBottom:!0,children:"Tablespace Tamanho Relativo"}),s.map((t,i)=>e.jsx(S,{sx:{mb:3},children:e.jsxs(o,{container:!0,alignItems:"center",children:[e.jsx(o,{item:!0,xs:4,sm:2,children:e.jsx(h,{variant:"body1",noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),e.jsx(o,{item:!0,xs:6,sm:8,children:e.jsx(S,{sx:{height:"20px",width:"100%",bgcolor:"#ddd",borderRadius:"5px",overflow:"hidden",mr:1},children:e.jsx(S,{sx:{height:"100%",width:`${t.usagePercent}%`,bgcolor:r(t.usagePercent),transition:"width 0.4s ease"}})})}),e.jsx(o,{item:!0,xs:2,sm:2,sx:{textAlign:"right"},children:e.jsxs(h,{variant:"body1",sx:{color:r(t.usagePercent),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[t.usagePercent,"%"]})})]})},i))]})})},ce=()=>{const[s,r]=m.useState(!0);return m.useEffect(()=>{r(!1)},[]),e.jsx(o,{container:!0,spacing:$,children:e.jsx(o,{item:!0,xs:12,md:12,lg:12,children:e.jsxs(o,{container:!0,spacing:1.5,children:[e.jsx(o,{item:!0,xs:12,md:12}),e.jsx(o,{item:!0,xs:6,md:3,children:e.jsx(g,{isLoading:s})}),e.jsx(o,{item:!0,xs:6,md:3,children:e.jsx(g,{isLoading:s})}),e.jsx(o,{item:!0,xs:6,md:3,children:e.jsx(g,{isLoading:s})}),e.jsx(o,{item:!0,xs:6,md:3,children:e.jsx(g,{isLoading:s})}),e.jsx(o,{item:!0,xs:12,md:12,children:e.jsx(H,{})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(Y,{})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(B,{})}),e.jsx(o,{item:!0,xs:12,md:12,children:e.jsx(ee,{})}),e.jsx(o,{item:!0,xs:12,md:12,children:e.jsx(se,{})})]})})})};export{ce as default};
