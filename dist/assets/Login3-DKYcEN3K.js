import{h as M,ag as P,r as d,j as e,G as t,B as x,T as a,a5 as W,ah as b,ai as C,aj as H,ak as z,al as O,D as T,am as q}from"./index-abcHMAUO.js";import{F as $,c as G,a as w,d as V,b as _,C as N,S as Q,A as R,e as J,f as K}from"./VisibilityOff-DzH7bp--.js";import{I as f,O as y,F as h}from"./OutlinedInput-CG80is10.js";import{I as U}from"./InputAdornment-CXn_n6Xw.js";import{I as X}from"./IconButton-CKWWzIqv.js";import{B as Y}from"./Button-DNQi5Rop.js";const Z=({...m})=>{const i=M(),v=P(),[k,S]=d.useState(!0),[u,I]=d.useState(!1),[E,p]=d.useState(!1),[B,D]=d.useState(""),A=()=>{I(!u)},F=n=>{n.preventDefault()},j=()=>{p(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(t,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:e.jsx(t,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:e.jsx(x,{sx:{mb:2},children:e.jsx(a,{variant:"subtitle1",children:"Sign in with Email address"})})})}),e.jsx($,{initialValues:{email:"",password:"",submit:null},validationSchema:G().shape({email:w().email("Digite um email válido").max(255).required("Email é obrigatório"),password:w().max(255).required("Senha é obrigatória")}),onSubmit:async(n,{setErrors:o,setStatus:s,setSubmitting:l})=>{try{await W.login(n.email,n.password),v("/"),s({success:!0}),l(!1)}catch(r){console.error(r),s({success:!1}),o({submit:r.message}),D(r.message||"Falha ao fazer login"),p(!0),l(!1)}},children:({errors:n,handleBlur:o,handleChange:s,handleSubmit:l,isSubmitting:r,touched:c,values:g})=>e.jsxs("form",{noValidate:!0,onSubmit:l,...m,children:[e.jsxs(b,{fullWidth:!0,error:!!(c.email&&n.email),sx:{...i.typography.customInput},children:[e.jsx(f,{htmlFor:"outlined-adornment-email-login",children:"Endereço de Email"}),e.jsx(y,{id:"outlined-adornment-email-login",type:"email",value:g.email,name:"email",onBlur:o,onChange:s,label:"Endereço de Email",inputProps:{}}),c.email&&n.email&&e.jsx(h,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),e.jsxs(b,{fullWidth:!0,error:!!(c.password&&n.password),sx:{...i.typography.customInput},children:[e.jsx(f,{htmlFor:"outlined-adornment-password-login",children:"Senha"}),e.jsx(y,{id:"outlined-adornment-password-login",type:u?"text":"password",value:g.password,name:"password",onBlur:o,onChange:s,endAdornment:e.jsx(U,{position:"end",children:e.jsx(X,{"aria-label":"alternar visibilidade da senha",onClick:A,onMouseDown:F,edge:"end",size:"large",children:u?e.jsx(V,{}):e.jsx(_,{})})}),label:"Senha",inputProps:{}}),c.password&&n.password&&e.jsx(h,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),e.jsxs(C,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.jsx(H,{control:e.jsx(N,{checked:k,onChange:L=>S(L.target.checked),name:"checked",color:"primary"}),label:"Lembrar-me"}),e.jsx(a,{variant:"subtitle1",color:"secondary",sx:{textDecoration:"none",cursor:"pointer"},children:"Esqueceu a senha?"})]}),n.submit&&e.jsx(x,{sx:{mt:3},children:e.jsx(h,{error:!0,children:n.submit})}),e.jsx(x,{sx:{mt:2},children:e.jsx(z,{children:e.jsx(Y,{disableElevation:!0,disabled:r,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Entrar"})})})]})}),e.jsx(Q,{open:E,autoHideDuration:6e3,onClose:j,children:e.jsx(R,{onClose:j,severity:"error",sx:{width:"100%"},children:B})})]})},ie=()=>{const m=O(i=>i.breakpoints.down("md"));return e.jsx(J,{children:e.jsxs(t,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(K,{children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(t,{item:!0,sx:{mb:3}}),e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,direction:{xs:"column-reverse",md:"row"},alignItems:"center",justifyContent:"center",children:e.jsx(t,{item:!0,children:e.jsxs(C,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(a,{color:"secondary.main",gutterBottom:!0,variant:m?"h3":"h2",children:"Hi, Welcome Back"}),e.jsx(a,{variant:"caption",fontSize:"16px",textAlign:{xs:"center",md:"inherit"},children:"Enter your credentials to continue"})]})})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(Z,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(T,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(a,{component:q,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:"Don't have an account?"})})})]})})})})}),e.jsx(t,{item:!0,xs:12,sx:{m:3,mt:1}})]})})};export{ie as default};
